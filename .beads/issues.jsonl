{"id":"Speedy-06w","title":"Bead 2B-1-1: OVP Calculation Logic","description":"Create src/engine/ovp.rs with calculate_anchor_position() function. Implement per PRD Section 3.1: 1 char→0, 2-5→1, 6-9→2, 10+→3. Write TDD tests for all word lengths. No dependencies.","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:04:58.43397161-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.579240757-03:00","closed_at":"2026-01-27T13:34:50.579244263-03:00","close_reason":"Closed"}
{"id":"Speedy-0dr","title":"Implement Dynamic WPM Timing","description":"Make token duration calculation dynamic so WPM adjustments work. Remove duration_ms from Token struct - calculate on-the-fly in ReadingState::current_token_duration() using self.wpm. This ensures adjust_wpm() actually changes playback speed. Related to Speedy-60j which fixed API but didn't fix dynamic calculation.","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:46.176677919-03:00","created_by":"Henry Du","updated_at":"2026-01-26T13:20:02.100698538-03:00","closed_at":"2026-01-26T13:20:02.100698538-03:00","close_reason":"Closed"}
{"id":"Speedy-1ah","title":"Enhance Progress Bar Contrast for Spatial Awareness","description":"**Priority**: P1 (Visual Polish - Important for UX)\n\n**PRD Reference**: Section 4.2 Navigation \u0026 Spatial Awareness (Micro-Progress line)\n**Architecture**: Updates render_progress_bar() in src/ui/render.rs\n\n**Problem**: 1px progress bar under current word lacks sufficient contrast between filled (current position) and empty (remaining) portions, reducing its effectiveness as spatial awareness cue.\n\n**Fix**: Make empty portion significantly darker than filled portion for clear visual distinction:\n- Filled: Keep colors::text() (RGB 169, 177, 214)\n- Empty: Change to Color::Rgb(30, 35, 50) (much darker than dimmed color)\n\n**Acceptance**:\n- Progress bar clearly visible under current word\n- Filled vs empty portions clearly distinguishable\n- 20-character width for good visibility without distraction\n- Centered under word, aligned with OVP anchor\n\n**Files Modified**: src/ui/render.rs (progress bar rendering)\n**Lines Changed**: 5-10 lines\n**Risk**: Low (visual enhancement, no functional change)\n**Test Strategy**: Visual verification of contrast and alignment while reading\n","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T15:53:58.204952978-03:00","created_by":"Henry Du","updated_at":"2026-01-28T11:34:08.648378533-03:00","closed_at":"2026-01-28T11:34:08.648378533-03:00","close_reason":"Closed: Architecture pivot. Progress bar implementation will use new graphics engine design with macro-gutter and micro-bar pattern."}
{"id":"Speedy-1fv","title":"[Tech Debt] Add clipboard timeout wrapper","description":"Add timeout handling to clipboard access to prevent indefinite REPL freeze. Wrap arboard::Clipboard::get_text() in thread with timeout (e.g., 5 seconds). Return error if timeout or OS not supported. Provide clear user messaging. Alternative: Make clipboard access explicit (not automatic). Reference: Section 5 clipboard mitigation in design document.","status":"open","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:16:01.540144958-03:00","created_by":"Henry Du","updated_at":"2026-01-23T16:16:01.540144958-03:00"}
{"id":"Speedy-1i0","title":"3. Data Flow Through System","description":"The loading flow follows established REPL → AppEvent → App pattern from Task 2A-3.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.284104419-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-1oz","title":"Epic 1: CellRenderer TUI Fallback Implementation","description":"Implement RsvpRenderer trait for CellRenderer struct using pure Ratatui widgets (Paragraph/Text). OVP anchoring snaps to nearest character cell. Display single word centered in reading zone. No ghost words or opacity effects. Basic styling from theme system.","acceptance_criteria":"Implements all RsvpRenderer methods; Words display centered in reading zone; OVP snaps to nearest cell (not sub-pixel); Works on any terminal (GNOME Terminal, xterm, etc.); Unit tests for cell-based anchoring","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":120,"created_at":"2026-01-28T12:24:50.031865012-03:00","created_by":"Henry Du","updated_at":"2026-01-29T09:58:40.080741076-03:00","closed_at":"2026-01-29T09:58:40.080743831-03:00","labels":["effort:2-3d","epic:epic-1-tui-foundation","priority:P0","type:technical"],"dependencies":[{"issue_id":"Speedy-1oz","depends_on_id":"Speedy-uh6","type":"blocks","created_at":"2026-01-28T12:45:31.777911597-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-1oz","depends_on_id":"Speedy-smh","type":"blocks","created_at":"2026-01-28T12:45:31.829457928-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-1r3","title":"Implement src/input/epub.rs loader","description":"Implement EPUB file loading using epub crate. Check file extension .epub. Load EPUB using epub::doc::EpubDoc::new(). Extract all chapter/section text. Concatenate with newline separators. Tokenize with engine::tokenize_text(). Return Result\u003cLoadedDocument, LoadError\u003e. Handle EPUB parse errors gracefully. Reference: Step 5 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:15.651300706-03:00","created_by":"Henry Du","updated_at":"2026-01-26T17:51:26.656450571-03:00","closed_at":"2026-01-26T17:51:26.656450571-03:00","close_reason":"Closed"}
{"id":"Speedy-1ya","title":"11. Technical Debt","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.335051818-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-234","title":"Create src/input/mod.rs with error types","description":"Create src/input/mod.rs with LoadError enum and LoadedDocument struct. Define error types for PDF, EPUB, clipboard, file system. Reference: Step 2 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:14:46.129140496-03:00","created_by":"Henry Du","updated_at":"2026-01-24T17:19:16.257227988-03:00","closed_at":"2026-01-24T17:19:16.257227988-03:00","close_reason":"Closed"}
{"id":"Speedy-2e1","title":"2. Error Handling Strategy","description":"The `LoadError` enum provides structured, user-friendly error reporting across all three input sources.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.279320266-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-2pd","title":"Implement Word Length Penalty","description":"Implement word length penalty per PRD Section 3.2. Check if token text length \u003e 10 characters. If so, apply 1.15x delay multiplier (configurable penalty). Calculate final_delay = delay_ms * word_length_penalty_if_applicable.","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:44.975913423-03:00","created_by":"Henry Du","updated_at":"2026-01-26T08:34:24.784244701-03:00","closed_at":"2026-01-26T08:34:24.784244701-03:00","close_reason":"Closed"}
{"id":"Speedy-2pl","title":"Implement clipboard loader","description":"Implement clipboard loader using arboard crate v3.4 in src/input/clipboard.rs. Initialize clipboard with arboard::Clipboard::new(). Get text via get_text() with 2-second timeout. Tokenize using engine::tokenize_text() (preserves punctuation). Return Result\u003cLoadedDocument, LoadError\u003e with specific errors: Clipboard(String), UnsupportedOs. Handle clipboard daemon hangs gracefully with user-friendly timeout message. Write unit tests with mocked clipboard access and cross-platform error cases.\\n\\n**PRD Alignment:** Section 2.2 (clipboard support), Section 5.2 (cross-platform tactile controls), Section 3.3 (punctuation preservation)\\n**TDD Approach:** Write failing test first (e.g., test_clipboard_unsupported_os), then implement minimal code\\n\\n**Acceptance Criteria:**\\n- Correctly loads @@ from REPL\\n- Works on Linux/Mac/Windows per PRD\\n- Returns explicit 'clipboard timeout' error after 2s\\n- Preserves newlines/punctuation for sentence detection\\n- Handles empty clipboard gracefully\\n- 100% test coverage for error cases\\n- Integration test passes with system clipboard","design":"Reference: Step 6 of 2026-01-23-task-2a4-file-loading-design.md","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T17:52:09.935975797-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:13:44.998274294-03:00","closed_at":"2026-01-26T18:13:44.998274294-03:00","close_reason":"Closed"}
{"id":"Speedy-30u","title":"11. Acceptance Criteria","description":"- [ ] PDF files load successfully from `@filename.pdf` command","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.324067395-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-3cv","title":"Epic 1: Human Testing - Visual Rendering Verification","description":"Manual QA testing for visual quality: OVP anchoring accuracy (1-20+ char words), font clarity at different terminal sizes, no flickering at 300 WPM for 60s, resize behavior (pause, resume, no corruption). Document with screenshots in docs/testing/visual-rendering-report.md.","acceptance_criteria":"Verify OVP anchor stays stationary across word lengths; Font renders crisply at 80x24, 120x40, fullscreen; No flickering observed during 60s reading; Resize pauses reading without corruption; Document findings with screenshots","status":"open","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":180,"created_at":"2026-01-28T12:25:16.213762892-03:00","created_by":"Henry Du","updated_at":"2026-01-28T12:25:16.213762892-03:00","labels":["effort:2-3h","epic:epic-1-tui-foundation","priority:P1","qa:visual-quality","type:human-testing"],"dependencies":[{"issue_id":"Speedy-3cv","depends_on_id":"Speedy-1oz","type":"blocks","created_at":"2026-01-28T12:45:44.630236067-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-3cv","depends_on_id":"Speedy-x5e","type":"blocks","created_at":"2026-01-28T12:45:44.680079301-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-4b2","title":"Split engine into rsvp and display domains","description":"Split src/engine/ into two domain modules: src/rsvp/ (core RSVP logic - state, token, timing, navigation, ovp) and src/display/ (rendering backends - trait, cell, viewport, font, capability). Move config.rs and error.rs appropriately. Reorganize into domain-based folder structure.","acceptance_criteria":"src/rsvp/ module created with all reading logic; src/display/ module created with all rendering logic; no files \u003e500 lines; all 176 tests pass; ARCHITECTURE.md updated","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":240,"created_at":"2026-01-29T11:28:13.152351239-03:00","created_by":"Henry Du","updated_at":"2026-01-29T12:09:48.210876694-03:00","closed_at":"2026-01-29T12:09:48.210876694-03:00","close_reason":"Closed","labels":["engine-split","epic-2","epic-2-code-reorganization","refactoring"],"dependencies":[{"issue_id":"Speedy-4b2","depends_on_id":"Speedy-ykp","type":"blocks","created_at":"2026-01-29T11:28:13.157556269-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-4gb","title":"Update public API and documentation","description":"Ensure src/lib.rs exports remain stable during reorganization. Update ARCHITECTURE.md to reflect new folder structure and module locations. Update any PRD references to old file paths. Document module boundaries and dependency rules.","acceptance_criteria":"src/lib.rs exports stable; ARCHITECTURE.md fully updated; module boundaries documented; dependency rules defined; all 176 tests pass","status":"open","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":120,"created_at":"2026-01-29T11:28:36.524010917-03:00","created_by":"Henry Du","updated_at":"2026-01-29T11:28:36.524010917-03:00","labels":["documentation","epic-2","epic-2-code-reorganization","refactoring"],"dependencies":[{"issue_id":"Speedy-4gb","depends_on_id":"Speedy-wt0","type":"blocks","created_at":"2026-01-29T11:28:36.531896699-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-4t2","title":"Epic 1: Human Testing - Terminal Compatibility","description":"Manual QA testing across 5 terminals: Konsole 24.12+, Kitty 0.35+, Alacritty 0.15+, GNOME Terminal 47+, xterm. Verify mode detection, graceful fallback behavior, warning messages, and CLI override flags. Document results in docs/testing/terminal-compatibility.md.","acceptance_criteria":"Test on all 5 terminals; Verify correct mode detection; Verify warning displays in fallback; Test --force-kitty and --force-tui flags; Document any crashes or hangs; Deliver compatibility report","status":"open","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":180,"created_at":"2026-01-28T12:25:15.402914164-03:00","created_by":"Henry Du","updated_at":"2026-01-28T12:25:15.402914164-03:00","labels":["effort:2-3h","epic:epic-1-tui-foundation","priority:P1","qa:terminal-compat","type:human-testing"],"dependencies":[{"issue_id":"Speedy-4t2","depends_on_id":"Speedy-wsb","type":"blocks","created_at":"2026-01-28T12:45:44.129111589-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-4t2","depends_on_id":"Speedy-1oz","type":"blocks","created_at":"2026-01-28T12:45:44.169520765-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-4t2","depends_on_id":"Speedy-x5e","type":"blocks","created_at":"2026-01-28T12:45:44.216172929-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-4wl","title":"Implement app event handlers","description":"Implement App event handlers in src/app/app.rs per PRD Section 7.1. Add extension detection for .pdf/.epub and @@ clipboard command. Route to appropriate loader (pdf/epub/clipboard) and handle LoadError variants: PdfParse, EpubParse, Clipboard, FileNotFound, UnsupportedFormat. On success: update App state.tokens, transition to AppMode::Reading, trigger render update. On failure: display user-friendly error in REPL while staying in AppMode::Repl. Reject .txt files with UnsupportedFormat error per PRD Section 2.2.\\n\\n**PRD Alignment:** Section 7.1 (REPL commands), Section 6.1 (app module structure), Section 2.3 (file discovery)\\n**Critical Integration Points:**\\n- Uses existing ReadingState::new_with_default_config()\\n- Integrates with tokenization pipeline from Speedy-hmc\\n- Maintains pure core boundaries (loaders return data payloads)\\n\\n**Acceptance Criteria:**\\n- @document.pdf loads PDF content correctly\\n- @@ loads clipboard content correctly\\n- @non-pdf.txt shows 'Unsupported format' error\\n- REPL stays responsive during load errors\\n- All existing sentence navigation tests still pass\\n- Handles recursive file paths (@**/chapter.pdf) per Section 2.3","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T17:52:16.104797024-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:26:53.139810701-03:00","closed_at":"2026-01-26T18:26:53.139810701-03:00","close_reason":"Closed"}
{"id":"Speedy-58j","title":"8. Sentence-Aware Navigation Implementation","description":"Implement forward navigation (j key per PRD Section 3.3). Add find_next_sentence_start() -\u003e Option\u003cusize\u003e to ReadingState (scans forward from current_index + 1). Add jump_to_next_sentence() -\u003e bool method. Edge cases: if current token is sentence start, jump to NEXT sentence; at last sentence, stay at len-1; empty stream, no-op. Tests: test_jump_to_next_middle, test_jump_to_next_at_boundary, test_jump_to_next_last_sentence, test_jump_to_next_empty_stream, test_find_next_no_more_sentences. Acceptance: Scans forward from current position + 1, returns next sentence start index, updates current_index on jump, returns false if no jump occurred, all tests pass. Estimated: 1-2 hours. PRD: Section 3.3. Design: docs/plans/2026-01-26-sentence-aware-navigation-design.md. Epic: Sentence-Aware Navigation (MVP). Depends on: ui3 completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.316100696-03:00","updated_at":"2026-01-26T17:35:11.310928749-03:00","closed_at":"2026-01-26T17:35:11.310932556-03:00"}
{"id":"Speedy-60j","title":"Task 2A-4 Prep: Fix WPM hardcoded in tokenize_text","description":"Critical issue: src/engine/timing.rs tokenize_text() still hardcodes duration_ms: 200 (line 53). The Speedy-ia6 bead mentions DEFAULT_WPM but doesn't fix the hardcoded value. This blocks the adjustable speed reading feature. Update tokenize_text to accept wpm parameter and use wpm_to_milliseconds() to calculate duration. Update tests to verify WPM integration.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T17:33:06.11529107-03:00","created_by":"Henry Du","updated_at":"2026-01-26T10:20:56.572940156-03:00","closed_at":"2026-01-26T10:20:56.572940156-03:00","close_reason":"Closed"}
{"id":"Speedy-60s","title":"Task 2A-4 Prep: Remove I/O from command_to_app_event","description":"Critical issue: src/repl/command.rs command_to_app_event() performs eprintln! I/O (lines 34-40). Translation layer should be pure and return structured events only. Remove eprintln! calls and add AppEvent::Warning(String) or AppEvent::InvalidCommand(String) variants. Let App layer handle all user feedback. This maintains clean separation of concerns.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T17:33:28.039376552-03:00","created_by":"Henry Du","updated_at":"2026-01-23T17:57:11.823104559-03:00","closed_at":"2026-01-23T17:57:11.823104559-03:00","close_reason":"Closed"}
{"id":"Speedy-6i6","title":"Bead 2B-1-0: Timing Precision Fix (PREREQUISITE)","description":"**Status:** Ready to implement.\n\n**PREREQUISITE FOR:** Bead 2B-1-4 (Terminal Manager)\n\n**Purpose:** Fix critical timing precision flaw per PRD Section 3.2.\n\n**Problem:** Current calculation (60_000 / wpm as u64) truncates fractional milliseconds:\n- 350 WPM → 171ms (should be 171.428ms)\n- 333 WPM → 180ms (should be 180.18ms)\n\n**Impact:** Cumulative timing drift at high WPM (\u003e300) violates PRD Section 3.2 precision requirements.\n\n**Fix Required:**\n```rust\n// BEFORE (bug in REVISED plan line 661):\nlet timeout_ms = 60_000 / wpm as u64;\n\n// AFTER (floating-point precision):\nlet timeout_ms = (60_000.0 / wpm as f64).round() as u64;\n```\n\n**Files:**\n- Modify: src/ui/terminal.rs:661-662\n- Add test: src/ui/terminal.rs (test_wpm_timing_precision)\n\n**Implementation:**\n1. Add helper function for testability\n2. Use f64 calculation with .round() to nearest millisecond\n3. Add test verifying 350→171ms, 333→180ms, 400→150ms\n","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:04:57.753061946-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.533910634-03:00","closed_at":"2026-01-27T13:34:50.533915153-03:00","close_reason":"Closed"}
{"id":"Speedy-71y","title":"Task 9: Implement REPL interface - Add ReplCommand enum (LoadFile/LoadClipboard/Quit), parse_repl_input() function, add Repl mode to AppMode enum. Implement REPL loop in main.rs with 'speedy\u003e' prompt. Run cargo test app. Test REPL manually (@test.txt, :q). Commit 'feat: implement REPL interface'. Acceptance: REPL loads files, :q quits, tests pass.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:56.250758337-03:00","created_by":"Henry Du","updated_at":"2026-01-22T15:11:42.488722009-03:00","closed_at":"2026-01-22T15:11:42.488722009-03:00","close_reason":"Closed"}
{"id":"Speedy-76x","title":"Verify all tests pass","description":"Run cargo test to verify all unit and integration tests pass. Run cargo clippy if desired. Reference: Step 9 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:47.317895936-03:00","created_by":"Henry Du","updated_at":"2026-01-26T10:20:56.665513384-03:00","closed_at":"2026-01-26T10:20:56.665513384-03:00","close_reason":"Closed"}
{"id":"Speedy-7a1","title":"Epic 1: Viewport Overlay Pattern with Cell Querying","description":"Implement viewport overlay pattern: Ratatui reserves placeholder block for reading zone. Send CSI 14t/18t queries to get cell dimensions. Convert Ratatui Rect (cells) to pixel coordinates. Graphics engine writes directly to terminal using escape sequences, bypassing Ratatui buffer.","acceptance_criteria":"CSI 14t/18t queries return valid dimensions; Cell-to-pixel conversion is accurate; Graphics render in correct screen location; Placeholder area properly reserved in Ratatui layout; Unit tests for coordinate conversion","status":"in_progress","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":120,"created_at":"2026-01-28T12:24:53.786310453-03:00","created_by":"Henry Du","updated_at":"2026-01-29T10:00:33.36154218-03:00","labels":["effort:2-3d","epic:epic-1-tui-foundation","priority:P0","type:technical"],"dependencies":[{"issue_id":"Speedy-7a1","depends_on_id":"Speedy-wsb","type":"blocks","created_at":"2026-01-28T12:45:32.010349536-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-7ek","title":"Task 3: Implement timing engine - Implement wpm_to_milliseconds() function (60,000/wpm) and tokenize_text() function to split text into Tokens with duration_ms. Update tests to pass. Run cargo test engine::timing. Acceptance: All timing tests pass, Token struct with text and duration_ms fields.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:39:54.728681012-03:00","created_by":"Henry Du","updated_at":"2026-01-22T14:00:14.721588348-03:00","closed_at":"2026-01-22T14:00:14.721588348-03:00","close_reason":"Implemented wpm_to_milliseconds (60,000/wpm), tokenize_text with unicode-segmentation for proper Unicode word boundaries, filtered whitespace-only tokens, kept punctuation with words for weighted delay algorithm, all timing tests pass, committed b2de641","comments":[{"id":1,"issue_id":"Speedy-7ek","author":"Henry Du","text":"Tech debt note: tokenize_text() hardcodes duration_ms: 200 instead of using wpm parameter. See Speedy-rip for tracking.","created_at":"2026-01-22T17:32:58Z"}]}
{"id":"Speedy-7hu","title":"4. Testing Approach","description":"Following TDD principles, tests will be written before implementation for each input source.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.291067246-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-7so","title":"Epic 3: TUI Visual Fixes \u0026 Polish","description":"**Status**: open\n**Epic 3**: Focused visual improvements for reading experience\n\n**Beads**:\n- Bead 3-1: Fix OVP Anchor Misalignment (Critical)\n- Bead 3-2: Increase Context Word Dimming to 20% Opacity (Critical)\n- Bead 3-3: Enhance Progress Bar Contrast for Spatial Awareness (Important)\n\n**PRD Alignment**:\n- 3.1 Fixed-Axis OVP Anchoring - anchor stays fixed\n- 4.1 Midnight Theme - proper dimming levels  \n- 4.2 Gutter - progress indicator clarity\n\n**Architecture Impact**: UI layer only (render.rs, theme.rs)\n**Testing Strategy**: Manual visual verification + unit tests\n**Exit Criteria**: All beads completed and visually verified\n","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T15:54:06.239107819-03:00","created_by":"Henry Du","updated_at":"2026-01-28T11:34:03.816542898-03:00","closed_at":"2026-01-28T11:34:03.816542898-03:00","close_reason":"Closed: Architecture pivot to TUI-based design with graphics engine. Epic 3 visual fixes no longer applicable with new dual-engine approach."}
{"id":"Speedy-7to","title":"Task 2A-1: Terminal Setup \u0026 Event Loop Skeleton","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T19:35:10.653140112-03:00","created_by":"Henry Du","updated_at":"2026-01-23T08:51:11.742660315-03:00","closed_at":"2026-01-23T08:51:11.742660315-03:00","close_reason":"Closed"}
{"id":"Speedy-85g","title":"Task 6: Write failing tests for UI reader component - Create src/ui/reader.rs with test for render_word() function that returns word string. Run test to verify it fails. Acceptance: Test fails with undefined render_word function.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:28.334144684-03:00","created_by":"Henry Du","updated_at":"2026-01-22T14:30:16.083707119-03:00","closed_at":"2026-01-22T14:30:16.083707119-03:00","close_reason":"Closed"}
{"id":"Speedy-885","title":"[Tech Debt] Extend punctuation detection","description":"Add support for semicolons (;), ellipsis (...), em dashes (—). Update extract_punctuation() to detect these marks. Add is_sentence_terminator() and PAUSE_MARKERS constants. Update is_comma() function. Add unit tests for new punctuation types. Update find_sentence_start() to handle additional terminators. Reference: Section 7 Punctuation Limitations extension path in design document.","status":"open","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:16:08.805968453-03:00","created_by":"Henry Du","updated_at":"2026-01-23T16:16:08.805968453-03:00"}
{"id":"Speedy-8ep","title":"Task 13: Write integration test - Create tests/integration_test.rs with end_to_end_reading() test. Create test file, run cargo run, verify output contains expected words. Commit 'test: add integration test for end-to-end reading'. Acceptance: Integration test passes, E2E flow works from file load to word display.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:41:39.466631856-03:00","created_by":"Henry Du","updated_at":"2026-01-22T18:41:47.384408322-03:00","closed_at":"2026-01-22T18:41:47.384408322-03:00","close_reason":"Closed"}
{"id":"Speedy-8rv","title":"Task 2A-4 Prep: Move ReadingState to engine module","description":"Critical architecture issue: ReadingState struct (tokens, index, WPM) is pure domain logic but lives in src/app/state.rs instead of engine/. This violates pure core principle, creates coupling between App and engine internals, and reduces engine testability. Move ReadingState to src/engine/state.rs, update imports across app.rs and tests, and expose clean engine interface.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T17:33:18.877051806-03:00","created_by":"Henry Du","updated_at":"2026-01-23T17:52:13.702050332-03:00","closed_at":"2026-01-23T17:52:13.702050332-03:00","close_reason":"Closed"}
{"id":"Speedy-99h","title":"Fix Word Length Penalty on Punctuation Words","description":"CRITICAL BUG: Word length penalty (1.15x for words \u003e10 chars) is NOT applied to words ending with punctuation. Current implementation at line 65 pushes token BEFORE length penalty check at line 58-63. Example: 'extraordinary.' (12 chars) misses penalty. \n\nFix: Move length penalty check BEFORE token push, or check word INCLUDING punctuation. Add test: 'extraordinary.' should get 1.15x penalty.\n\nReference: Speedy-pk0 (punctuation multipliers), Speedy-2pd (word length penalty)","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T08:58:39.429342935-03:00","created_by":"Henry Du","updated_at":"2026-01-26T09:12:23.02004771-03:00","closed_at":"2026-01-26T09:12:23.02004771-03:00","close_reason":"Bugs cannot reproduce - current code correctly applies word length penalty to punctuation words and handles newlines properly. All 49 tests pass including new edge case tests."}
{"id":"Speedy-9qg","title":"Task 14: Final verification - Run cargo test (all tests pass), cargo build --release (binary created), test manually (REPL mode with @test.txt, WPM controls with [/], pause/resume with SPACE, quit with q/:q). Commit 'chore: Epic 1 complete - RSVP terminal engine with REPL and WPM controls'. Acceptance: All success criteria met, binary works, user can start REPL, load files, adjust WPM, pause/resume, quit.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:41:50.054238445-03:00","created_by":"Henry Du","updated_at":"2026-01-22T18:53:54.40762655-03:00","closed_at":"2026-01-22T18:53:54.40762655-03:00","close_reason":"Closed"}
{"id":"Speedy-a9t","title":"Bead 2B-1-3: TUI Renderer Core","description":"Create src/ui/render.rs with render_word_display(), render_progress_bar(), render_context_left/right(), render_gutter_placeholder(). Use Midnight theme colors per PRD 4.1. Write TDD tests. Depends on: Bead 2B-1-1 (OVP calculation).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:05:00.765082468-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.669763312-03:00","closed_at":"2026-01-27T13:34:50.669768542-03:00","close_reason":"Closed","dependencies":[{"issue_id":"Speedy-a9t","depends_on_id":"Speedy-06w","type":"blocks","created_at":"2026-01-27T11:05:25.623255822-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-amp","title":"Add dependencies to Cargo.toml","description":"Add dependencies to Cargo.toml: pdf-extract 0.7, epub 2.1, arboard 3.4, thiserror 2.0. Verify dependencies compile successfully. References: Step 1 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:13:29.351930156-03:00","created_by":"Henry Du","updated_at":"2026-01-23T18:17:13.292426483-03:00","closed_at":"2026-01-23T18:17:13.292426483-03:00","close_reason":"Closed"}
{"id":"Speedy-au2","title":"Implement PDF file parsing support\n\nParse PDF files using pdf-extract or poppler crate. Extract text content from PDF documents when user types @filename.pdf. Handle PDF parsing errors with explicit messages. Integrate with existing tokenization workflow.\n\nAcceptance Criteria: PDF files load and extract text, errors handled gracefully, content tokenizes correctly, integrates with REPL workflow.\n\nContext: Epic 2C - File Format Support","description":"Superseded by new design approach (docs/designs/2a3-repl-mode-design.md). See new 2A-3 bead(s) for revised REPL implementation using rustyline with manual command parsing.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T09:46:06.789621618-03:00","created_by":"Henry Du","updated_at":"2026-01-23T12:59:30.295222277-03:00","closed_at":"2026-01-23T12:59:30.295226926-03:00"}
{"id":"Speedy-ay0","title":"Fix OVP Anchor Misalignment","description":"**Priority**: P0 (Critical Bug - Blocks OVP functionality)\n\n**PRD Reference**: Section 3.1 Fixed-Axis OVP Anchoring\n**Architecture**: Updates render_word_display() in src/ui/render.rs\n\n**Problem**: Anchor character moves horizontally instead of staying at fixed visual center position. Root cause: Alignment::Center conflicts with manual padding calculation.\n\n**Fix**: Change Alignment::Center to Alignment::Left on line 41 of src/ui/render.rs\n\n**Acceptance**:\n- Anchor character appears at consistent screen X coordinate across all word lengths\n- Words center around anchor correctly via padding calculation  \n- No visual jumping when word length changes\n- All 119 existing tests pass\n\n**Files Modified**: src/ui/render.rs\n**Lines Changed**: 1 line\n**Risk**: Very Low (simple alignment change)\n**Test Strategy**: Visual verification with words: \"I\", \"hello\", \"extraordinary\", \"Antidisestablishmentarianism\"\n","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T15:53:27.436514394-03:00","created_by":"Henry Du","updated_at":"2026-01-27T17:39:10.486153209-03:00","closed_at":"2026-01-27T17:39:10.486153209-03:00","close_reason":"Fixed anchor drift using fixed-width container (Constraint::Length(30) instead of percentage) and simplified padding calculation (3 - anchor_pos). Anchor now stays at consistent position regardless of terminal size or word length."}
{"id":"Speedy-aym","title":"Bead 2B-1-13: Fix dimmed colors by using less intense RGB values","description":"During testing: DIM modifier not working - context words and progress bar empty section not appearing dimmed. Likely terminal doesn't support DIM modifier. Solution: Replace Modifier::DIM with explicit dimmed color (Color::Rgb(100,110,150) instead of Color::Rgb(169,177,214)). Create theme configuration with named colors including dimmed variant.","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:11:56.688835918-03:00","created_by":"Henry Du","updated_at":"2026-01-27T14:28:02.703152631-03:00","closed_at":"2026-01-27T14:28:02.703159514-03:00"}
{"id":"Speedy-b4n","title":"Bead 2B-1-6: Testing \u0026 Validation (Final)","description":"Add integration tests for full workflow. Create docs/known_tui_issues.md. Run manual testing checklist including timing accuracy verification. Verify all success criteria. Depends on: All previous beads (2B-1-0 through 2B-1-5).","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:05:05.645378695-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.827560504-03:00","closed_at":"2026-01-27T13:34:50.827564001-03:00","close_reason":"Closed","dependencies":[{"issue_id":"Speedy-b4n","depends_on_id":"Speedy-nji","type":"blocks","created_at":"2026-01-27T11:05:25.751226719-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-b4n","depends_on_id":"Speedy-06w","type":"blocks","created_at":"2026-01-27T11:05:25.79201686-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-b4n","depends_on_id":"Speedy-a9t","type":"blocks","created_at":"2026-01-27T11:05:25.844224347-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-b4n","depends_on_id":"Speedy-f5q","type":"blocks","created_at":"2026-01-27T11:05:25.887268065-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-bb5","title":"Bead 2B-1-8: Fix j/k key bindings based on keyboard location","description":"During testing: j and k should map to keyboard location for intuitive navigation. On QWERTY keyboard: j is LEFT, k is RIGHT. Therefore j (left) should navigate BACKWARD to previous sentence (earlier), k (right) should navigate FORWARD to next sentence (later). Alternative: use arrow keys (← earlier, → later) instead of j/k for clarity.","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:11:46.694571566-03:00","created_by":"Henry Du","updated_at":"2026-01-27T14:25:18.343928122-03:00","closed_at":"2026-01-27T14:25:18.343931559-03:00"}
{"id":"Speedy-bge","title":"Epic 2B-1.1: TUI Polish \u0026 UX Fixes (Post 2B-1 Testing)","description":"Address critical UX issues discovered during manual testing of Task 2B-1 implementation. These fixes ensure the TUI behaves correctly and intuitively before proceeding to Task 2B-2.\n\n**Testing Context:** Completed initial TUI implementation (Epic 2B-1) with 7 beads. Manual testing revealed several critical UX issues that must be resolved.\n\n**Success Criteria:**\n- Spacebar pauses within TUI (does not exit to REPL)\n- Key bindings match keyboard intuition (j/k or arrow keys)\n- Dimmed colors visible (context words, progress bar)\n- Gutter shows only stub placeholder (no words)\n- OVP anchor remains at fixed position\n- Add .txt file support for basic text files\n\n**Parent Epic:** Epic 2B - Core Reading Experience","status":"closed","priority":0,"issue_type":"epic","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:14:29.036320907-03:00","created_by":"Henry Du","updated_at":"2026-01-27T17:43:05.1939417-03:00","closed_at":"2026-01-27T17:43:05.1939417-03:00","close_reason":"Epic closed. Tasks completed via separate commits: anchor drift fixed (fixed-width container), punctuation display in context (now shows sentence boundaries), key bindings corrected (j/k navigation). Remaining dimming/progress bar issues moved to Epic 3."}
{"id":"Speedy-c0l","title":"Task 2A-4 Prep: Remove dead code annotations","description":"Codebase contains 13 #[allow(dead_code)] annotations across app.rs, mode.rs, and state.rs (now in engine). These mask incomplete implementation and hide truly unused code from compiler warnings. Remove these annotations as features are implemented and code becomes production-ready. This improves code hygiene and prevents technical debt accumulation.","status":"closed","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T17:58:34.01236968-03:00","created_by":"Henry Du","updated_at":"2026-01-23T18:03:14.267061772-03:00","closed_at":"2026-01-23T18:03:14.267061772-03:00","close_reason":"Closed"}
{"id":"Speedy-c27","title":"Fix Incorrect Newline Handling","description":"CRITICAL BUG: text.lines() adds newline token after EVERY line, even when no newline present. tokenize_text('hello') creates phantom newline token.\n\nFix: Use text.split('\\n') to preserve actual newlines. Add newline token (4.0x multiplier) ONLY between actual lines. Add tests: 'hello' (1 token), 'hello\\n' (2 tokens), 'a\\nb' (3 tokens with newline in middle), '' (empty string).\n\nReference: Speedy-t01 (newline tokenization), PRD Section 3.2 (4.0x newline multiplier)","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T08:58:45.795638228-03:00","created_by":"Henry Du","updated_at":"2026-01-26T09:12:23.029077568-03:00","closed_at":"2026-01-26T09:12:23.029077568-03:00","close_reason":"Bugs cannot reproduce - current code correctly applies word length penalty to punctuation words and handles newlines properly. All 49 tests pass including new edge case tests."}
{"id":"Speedy-c2a","title":"[v1.1+] Add rapid navigation enhancements","description":"Implement enhanced navigation features beyond MVP sentence navigation per PRD Section 7.3 (Future Navigation Enhancements).\\n\\n**Hold-based advancement:** Holding 'j' to continuously advance through sentences\\n**Count-based jumps:** '5j' jumps 5 sentences forward, '10k' jumps 10 sentences back\\n**Time-based skipping:** '30s' skips 30 seconds ahead, '1m' skips 1 minute ahead\\n**Paragraph jumps:** Jump to next/previous paragraph\\n**Chapter navigation:** Jump between chapters in EPUB documents\\n**Bookmark support:** Mark and return to specific positions\\n**Navigation history:** Back/forward through recent positions\\n\\n\\n**PRD Reference:** Section 7.3 (Future Navigation Enhancements v1.1+)\\n**Dependencies:** Current sentence navigation infrastructure (Speedy-58j, Speedy-f1q) is complete\\n\\n**TDD Approach:** Write failing tests for each feature, then implement\\n\\n**Acceptance Criteria:**\\n- Hold 'j' continuously advances through sentences\\n- '5j' jumps 5 sentences forward\\n- '30s' skips appropriate time ahead based on WPM\\n- Paragraph jumps work correctly\\n- Chapter navigation preserves context\\n- Bookmarks save/load correctly\\n- Navigation history works\\n- All existing tests still pass\\n- New tests for enhanced navigation pass","status":"open","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T18:33:45.605000626-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:33:45.605000626-03:00"}
{"id":"Speedy-c4n","title":"Increase Context Word Dimming to 20% Opacity","description":"**Priority**: P0 (Critical Visual Polish)\n\n**PRD Reference**: Section 4.1 Midnight Theme, Section 4.2 Gutter (20% opacity)\n**Architecture**: Updates Theme struct in src/ui/theme.rs\n\n**Problem**: Context words (3 before/after current word) are too visible at ~40% opacity, causing distraction from foveal focus. Should be barely visible at ~20% opacity.\n\n**Fix**: Change dimmed color from RGB(100, 110, 150) to RGB(50, 60, 90) in src/ui/theme.rs:20. Add explicit Modifier::DIM for true subliminal effect.\n\n**Acceptance**:\n- Context words barely visible when focusing on current word  \n- Still readable when intentionally focusing on them\n- WCAG AA compliance maintained for current word (contrast ≥4.5:1)\n- All visual rendering tests pass\n\n**Files Modified**: src/ui/theme.rs, src/ui/render.rs\n**Lines Changed**: 2-3 lines\n**Risk**: Very Low (color value adjustment)\n**Test Strategy**: Visual verification of subliminal effect while reading\n","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T15:53:48.312041633-03:00","created_by":"Henry Du","updated_at":"2026-01-28T11:34:12.859454914-03:00","closed_at":"2026-01-28T11:34:12.859454914-03:00","close_reason":"Closed: Architecture pivot. Context words now use Three-Container Model with ghost words at 15% opacity via graphics engine, not TUI dimming."}
{"id":"Speedy-ckw","title":"Code review and architecture validation","description":"Manual review of reorganized codebase. Validate module boundaries, check file sizes (\u003c500 lines), verify naming conventions, review import paths, ensure no circular dependencies, document findings in docs/testing/epic2-code-review.md.","acceptance_criteria":"Module boundaries validated; all source files \u003c500 lines; naming conventions consistent; no circular dependencies; architecture review document created","status":"open","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":90,"created_at":"2026-01-29T11:28:46.394137287-03:00","created_by":"Henry Du","updated_at":"2026-01-29T11:28:46.394137287-03:00","labels":["epic-2","epic-2-code-reorganization","human-review","testing"],"dependencies":[{"issue_id":"Speedy-ckw","depends_on_id":"Speedy-4gb","type":"blocks","created_at":"2026-01-29T11:28:46.398206476-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-cp3","title":"Implement PDF loader","description":"Implement PDF file loading using pdf-extract crate v0.7 in src/input/pdf.rs. Validate file extension is .pdf. Extract text via pdf-extract::extract_text_from_file() with 50MB size limit. Tokenize using engine::tokenize_text() (preserves punctuation for sentence detection). Return Result\u003cLoadedDocument, LoadError\u003e with specific errors: PdfParse(String), FileNotFound, UnsupportedFormat. Handle PDF-specific errors (e.g., encrypted files) with user-friendly messages. Write unit tests with mocked PDF parsing and integration tests with actual PDF files.\\n\\n**PRD Alignment:** Section 2.2 (PDF support), Section 6.1 (input module structure), Section 3.3 (punctuation preservation for sentence detection)\\n**TDD Approach:** Write failing test first (e.g., test_pdf_basic_extraction), then implement minimal code\\n\\n**Acceptance Criteria:**\\n- Correctly loads @filename.pdf from REPL\\n- Returns user-friendly error for non-PDF files\\n- Preserves newlines/punctuation for sentence detection\\n- Handles encrypted/malformed PDFs gracefully\\n- 100% test coverage for error cases\\n- Integration test passes with sample.pdf","design":"Reference: Step 4 of 2026-01-23-task-2a4-file-loading-design.md","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T17:52:04.789738977-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:16:00.98787341-03:00","closed_at":"2026-01-26T18:16:00.98787341-03:00","close_reason":"Closed"}
{"id":"Speedy-cyu","title":"Support Stacked Punctuation","description":"Support stacked punctuation for PRD Section 3.2 max stacking rule. Change Token.punctuation from Option\u003cchar\u003e to Vec\u003cchar\u003e. Update extract_punctuation() to extract ALL trailing punctuation characters. Implement max(multipliers) rule: e.g., 'word?!' has punctuation ['?','!'], both 3.0x, apply max(3.0,3.0) = 3.0x not 6.0x.","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:45.816715387-03:00","created_by":"Henry Du","updated_at":"2026-01-26T10:01:47.128625591-03:00","closed_at":"2026-01-26T10:01:47.128625591-03:00","close_reason":"Closed"}
{"id":"Speedy-dbn","title":"Bead 2B-1-14: Verify OVP anchor stays at fixed position (not moving per word)","description":"During testing: Anchor letter appears to move around instead of staying at a fixed visual position. OVP anchoring should shift the WORD so anchor letter stays at same screen coordinate. Current implementation may be coloring anchor but not shifting word horizontally. Verify calculate_anchor_position correctly used and word display shifts based on anchor position.\n\nExpected: For words of varying length, the red anchor character should appear at approximately same X coordinate, with word shifted left/right accordingly.","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:12:32.56984506-03:00","created_by":"Henry Du","updated_at":"2026-01-27T14:38:19.259825773-03:00","closed_at":"2026-01-27T14:38:19.259825773-03:00","close_reason":"OVP anchor position fixed - words now shift so anchor stays at visual center"}
{"id":"Speedy-e2i","title":"Fix REPL prompt rendering bug\n\nThe 'speedy\u003e ' prompt displays repeatedly without clearing, creating infinite cascade of prompts like 'speedy\u003e speedy\u003e speedy\u003e '. This is caused by display_prompt() not clearing the current line before printing.\n\nFix: Modify display_prompt() to add Clear(ClearType::CurrentLine) before printing to clear just the input line (not the prompt itself).","description":"Superseded by new design approach (docs/designs/2a3-repl-mode-design.md). See new 2A-3 bead(s) for revised REPL implementation using rustyline with manual command parsing.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T10:30:19.35850325-03:00","created_by":"Henry Du","updated_at":"2026-01-23T12:59:29.609869133-03:00","closed_at":"2026-01-23T12:59:29.609875245-03:00"}
{"id":"Speedy-eap","title":"Bead 2B-1-2: App Methods for Auto-Advancement","description":"Add missing App::advance_reading() method. All other methods already exist: get_wpm(), mode(), set_mode(), ReadingState::get_wpm() already implemented. Write test for advance_reading(). Depends on: Bead 2B-1-0 (timing precision knowledge).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:04:59.515261096-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.623518797-03:00","closed_at":"2026-01-27T13:34:50.623523355-03:00","close_reason":"Closed","dependencies":[{"issue_id":"Speedy-eap","depends_on_id":"Speedy-6i6","type":"blocks","created_at":"2026-01-27T11:05:25.49404025-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-ejm","title":"[Tech Debt] Refactor to strict pure core","description":"Refactor event flow so main loop handles I/O. Create AppEvent::FileLoaded(LoadedDocument) and AppEvent::ClipboardLoaded(LoadedDocument). Update src/main.rs to call loaders, pass results to App. Remove AppEvent::LoadFile and AppEvent::LoadClipboard handlers from App. This maintains strict pure core - App never touches I/O. Reference: Section 11 of design document.","status":"closed","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:53.545639653-03:00","created_by":"Henry Du","updated_at":"2026-01-28T11:34:22.094358539-03:00","closed_at":"2026-01-28T11:34:22.094358539-03:00","close_reason":"Closed: Architecture pivot changes refactoring scope. New design uses pluggable RsvpRenderer trait from day 1."}
{"id":"Speedy-ewr","title":"Task 7: Implement UI reader with ratatui - Implement render_word() function to return word string, add ratatui imports (CrosstermBackend, Terminal, Paragraph, Frame). Update tests to pass. Run cargo test ui::reader. Commit 'feat: implement UI reader word rendering'. Acceptance: render_word test passes.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:35.972746049-03:00","created_by":"Henry Du","updated_at":"2026-01-22T14:44:40.97415814-03:00","closed_at":"2026-01-22T14:44:40.97415814-03:00","close_reason":"Closed"}
{"id":"Speedy-f1q","title":"9. Sentence-Aware Navigation Implementation","description":"Implement backward navigation (k key per PRD Section 3.3). Add find_previous_sentence_start() -\u003e Option\u003cusize\u003e to ReadingState (scans backward from current_index - 1). Add jump_to_previous_sentence() -\u003e bool method. Edge cases: if current token is sentence start, jump to PREVIOUS sentence; at first sentence, stay at 0; empty stream, no-op. Tests: test_jump_to_prev_middle, test_jump_to_prev_at_boundary, test_jump_to_prev_first_sentence, test_jump_to_prev_empty_stream, test_find_prev_no_more_sentences. Acceptance: Scans backward from current position - 1, returns previous sentence start index, updates current_index on jump, returns false if no jump occurred, all tests pass. Estimated: 1-2 hours. PRD: Section 3.3. Design: docs/plans/2026-01-26-sentence-aware-navigation-design.md. Epic: Sentence-Aware Navigation (MVP). Depends on: ui3 completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.31199407-03:00","updated_at":"2026-01-26T17:35:11.353400967-03:00","closed_at":"2026-01-26T17:35:11.353403282-03:00"}
{"id":"Speedy-f5q","title":"Bead 2B-1-4: TUI Terminal Manager with Precision Timing","description":"Create src/ui/terminal.rs with TuiManager struct. Implement run_event_loop() with WPM-precision timeout from Bead 2B-1-0. Delegate key handling to existing handle_keypress(). Add integration test. Depends on: Bead 2B-1-0 (timing fix) and Bead 2B-1-2 (App methods).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:05:02.670777522-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.720104117-03:00","closed_at":"2026-01-27T13:34:50.720111571-03:00","close_reason":"Closed","dependencies":[{"issue_id":"Speedy-f5q","depends_on_id":"Speedy-6i6","type":"blocks","created_at":"2026-01-27T11:05:25.537092284-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-f5q","depends_on_id":"Speedy-eap","type":"blocks","created_at":"2026-01-27T11:05:25.579756456-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-g7u","title":"Task 2B-1: Word Rendering with OVP Anchoring","description":"**Status:** Needs planning. Contains 7 beads including timing fix prerequisite.\\n\\n**Objective:** Implement TUI rendering layer with OVP anchoring and precise WPM timing, enabling transition from REPL to full-screen reading mode with word-by-word RSVP display.\\n\\n**Critical Achievement:** Fixes critical timing precision flaw using floating-point calculation (60_000.0 / wpm as f64).\\n\\n**Architecture:** Pure core (OVP calculation, timing precision) + thin IO adapter (terminal manager with WPM-based timing loop). Maintains REPL-first architecture.\\n\\n**PRD Alignment:**\\n- Section 3.1: OVP Anchoring ✓\\n- Section 3.2: Weighted Delay Algorithm ✓ (precision fixed)\\n- Section 3.3: Sentence-Aware Navigation ✓\\n- Section 4.1: Midnight Theme ✓\\n- Section 7.2: Reading Mode Keybindings ✓\\n\\n**Beads:** All 7 beads created and ready for dependency linking.","status":"closed","priority":1,"issue_type":"epic","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:04:43.820172217-03:00","created_by":"Henry Du","updated_at":"2026-01-27T17:39:10.487970775-03:00","closed_at":"2026-01-27T17:39:10.487970775-03:00","close_reason":"Epic complete. All 7 beads implemented: TUI rendering layer, OVP anchoring, WPM timing precision, Midnight theme, REPL→TUI transition, auto-advancement event loop, and sentence navigation (j/k keys). Full TUI reading experience working."}
{"id":"Speedy-hhp","title":"Write tests for loaders","description":"Write unit tests for src/input/pdf.rs, src/input/epub.rs, src/input/clipboard.rs modules. Mock PDF/EPUB file parsing. Verify tokenization. Test error handling. Reference: Step 8 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:40.973336242-03:00","created_by":"Henry Du","updated_at":"2026-01-26T17:50:02.390770794-03:00","closed_at":"2026-01-26T17:50:02.390770794-03:00","close_reason":"Closed"}
{"id":"Speedy-hit","title":"Overview","description":"This task implements the three data sources defined in the PRD: PDF files, EPUB files, and clipboard content. The `src/input/` module serves as an I/O boundary layer that extracts text from external sources and delegates tokenization to the pure core engine.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.267963171-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-hmc","title":"6. Sentence Detection Algorithm","description":"MVP sentence boundary detection with explicit scope. IN SCOPE (.?! + whitespace + capital letter OR newline): Basic rule - period/question/exclamation followed by capital letter A-Z marks new sentence. Newlines always mark sentence boundaries. Write helper function detect_sentence_boundary(prev_token: Option\u003c\u0026Token\u003e, current_word: \u0026str) -\u003e bool with 1-token lookbehind. DETAILS: Check prev token punctuation (., ?, !, \\n), check current word starts with A-Z, first token ALWAYS returns true. Tests: 8 specific tests - test_sentence_boundary_basic_period, test_sentence_boundary_question_mark, test_sentence_boundary_exclamation, test_sentence_boundary_newline, test_first_token_always_start, test_consecutive_newlines, test_capital_required, test_no_punctuation. Acceptance: Function pure (no I/O), returns true only when both conditions met, first token rule enforced, all tests pass, no panics or unwraps. Estimated: 2-3 hours. PRD: Section 3.3. Design: docs/plans/2026-01-26-sentence-aware-navigation-design.md. Epic: Sentence-Aware Navigation (MVP).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.301154199-03:00","updated_at":"2026-01-26T17:16:35.205119836-03:00","closed_at":"2026-01-26T17:16:35.205130656-03:00"}
{"id":"Speedy-i8b","title":"Bead 2B-1-7: Fix spacebar pause to stay in TUI, not exit to REPL","description":"During testing: spacebar currently exits TUI back to REPL instead of pausing within TUI. Root cause: when toggle_pause() sets mode to Paused, run_event_loop exits because it checks . Solution: Modify run_event_loop to continue in both Reading and Paused modes, only auto-advance words in Reading mode. Paused mode should keep TUI visible and render current word but not auto-advance.","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:10:40.465601313-03:00","created_by":"Henry Du","updated_at":"2026-01-27T14:21:52.914931775-03:00","closed_at":"2026-01-27T14:21:52.914935412-03:00"}
{"id":"Speedy-ia6","title":"Update src/engine/timing.rs (punctuation, DEFAULT_WPM)","description":"Add punctuation: Option\u003cchar\u003e field to Token struct. Implement extract_punctuation(), is_sentence_terminator(), is_comma() functions. Add DEFAULT_WPM: u32 = 300 constant. Update tokenize_text() to detect and store punctuation marks. Add unit tests. Reference: Step 3 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:14:55.777387974-03:00","created_by":"Henry Du","updated_at":"2026-01-24T20:49:01.455017576-03:00","closed_at":"2026-01-24T20:49:01.455023367-03:00"}
{"id":"Speedy-icg","title":"Task 2: Write failing tests for timing engine - Create src/engine/timing.rs with tests for WPM calculation (300 WPM = 200ms, 600 WPM = 100ms) and word splitting (single word, multiple words). Run tests to verify they fail. Acceptance: Tests fail with undefined functions.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:39:46.314092216-03:00","created_by":"Henry Du","updated_at":"2026-01-22T13:51:50.721370793-03:00","closed_at":"2026-01-22T13:51:50.721370793-03:00","close_reason":"Wrote failing tests for timing engine (wpm_to_milliseconds and tokenize_text), tests fail as expected with undefined functions, committed bf5eb6d"}
{"id":"Speedy-ilz","title":"Task 10: Write failing tests for WPM controls - Add tests to src/app.rs for adjust_wpm() method (decrease/increase, min 50/max 1000 bounds). Run tests to verify they fail. Commit 'test: add failing WPM control tests'. Acceptance: Tests fail with adjust_wpm undefined.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:41:07.4089313-03:00","created_by":"Henry Du","updated_at":"2026-01-22T17:50:58.521241539-03:00","closed_at":"2026-01-22T17:50:58.521241539-03:00","close_reason":"Closed"}
{"id":"Speedy-jfy","title":"Notes","description":"- **Plain text files NOT supported** - Per user requirement, only PDF, EPUB, clipboard","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.331079424-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-kuc","title":"Task 2A-3: REPL Display \u0026 Input\n\nDisplay 'speedy\u003e ' prompt, capture input line-by-line, parse with repl::parse_repl_input(), handle @filename (text), @@ (not supported), :q, :h/:help commands.\n\nAcceptance Criteria: Prompt displays, chars captured, Enter submits, Backspace deletes, all PRD commands recognized, help text complete, errors explicit.\n\nContext: Epic 2A - Terminal Foundation \u0026 Architecture","description":"Superseded by new design approach (docs/designs/2a3-repl-mode-design.md). See new 2A-3 bead(s) for revised REPL implementation using rustyline with manual command parsing.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T09:39:01.223751175-03:00","created_by":"Henry Du","updated_at":"2026-01-23T15:14:35.581814754-03:00","closed_at":"2026-01-23T15:14:35.581814754-03:00","close_reason":"Closed"}
{"id":"Speedy-ltp","title":"1. Module Architecture","description":"The `src/input/` module serves as an I/O boundary layer, handling all three data sources. This follows PRD's projected structure where `src/input/` contains format-specific loaders.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.274188659-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-n2b","title":"Task 2A-4: File Loading Integration\n\nLoad file using engine::load_file_safe(), tokenize with engine::tokenize_text(), create App reading state, transition to Reading mode. Handle load errors explicitly. Plain text only for now.\n\nAcceptance: File loads successfully, errors handled gracefully, state transitions to Reading, tokenize works.\n\nContext: Epic 2A - Terminal Foundation","description":"Implement file loading for PDF, EPUB, and clipboard with sentence-aware navigation. Create src/input/ module with separate loaders (pdf.rs, epub.rs, clipboard.rs). Update Token structure with punctuation field. Add DEFAULT_WPM constant. Remove file size limit (rely on Rust OOM). Handle errors gracefully. Test all loaders with unit and integration tests. Technical debt: pure core violation documented for future refactoring.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T09:39:22.024374029-03:00","created_by":"Henry Du","updated_at":"2026-01-23T16:11:38.445154664-03:00","closed_at":"2026-01-23T16:11:38.445154664-03:00","close_reason":"Closed"}
{"id":"Speedy-nji","title":"Bead 2B-1-5: Integration Wiring (Simplified)","description":"Update main.rs to launch TuiManager when AppMode::Reading. Add App::get_render_state() and resume_reading(). Extract render_frame() function. ~20 lines integration. Depends on: Bead 2B-1-3 (renderer) and Bead 2B-1-4 (terminal manager).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T11:05:04.338485459-03:00","created_by":"Henry Du","updated_at":"2026-01-27T13:34:50.770152902-03:00","closed_at":"2026-01-27T13:34:50.770160987-03:00","close_reason":"Closed","dependencies":[{"issue_id":"Speedy-nji","depends_on_id":"Speedy-a9t","type":"blocks","created_at":"2026-01-27T11:05:25.666338664-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-nji","depends_on_id":"Speedy-f5q","type":"blocks","created_at":"2026-01-27T11:05:25.708065069-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-o51","title":"Bead 2B-1-16: Remove gutter word display, keep only stub placeholder","description":"During testing: Gutter shows 3 words but should only show stub placeholder per PRD. Current gutter is a 3-char stub with │ symbol. The words appearing are coming from somewhere else (context rendering?). Fix: Ensure gutter only shows placeholder, verify it's not rendering context words in the gutter area (3% width on right).","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-27T14:12:09.218815939-03:00","created_by":"Henry Du","updated_at":"2026-01-27T14:32:21.52886253-03:00","closed_at":"2026-01-27T14:32:21.528873942-03:00"}
{"id":"Speedy-o77","title":"Task 4: Write failing tests for AppMode state machine - Create src/app.rs with tests for AppMode enum (Reading/Paused/Quit), ReadingState initialization (tokens, current_index, wpm), and state transitions. Run tests to verify they fail. Acceptance: Tests fail with undefined types.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:09.040414413-03:00","created_by":"Henry Du","updated_at":"2026-01-22T14:03:41.172203976-03:00","closed_at":"2026-01-22T14:03:41.172203976-03:00","close_reason":"Added failing tests for AppMode enum (Reading/Paused/Repl/Peek/Quit) and ReadingState struct per PRD, tests fail as expected with undefined types, committed abbfb30"}
{"id":"Speedy-pk0","title":"Implement Punctuation Multipliers","description":"Implement PRD Section 3.2 weighted delay algorithm with punctuation multipliers. Apply base_delay_ms = 60000 / wpm, then multiply by punctuation (. = 3.0x, , = 1.5x, ? = 3.0x, ! = 3.0x, \\\\n = 4.0x). Use max stacking rule for multiple punctuation (e.g., 'word?!' = max(3.0,3.0) = 3.0x, not 6.0x).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:43.996798362-03:00","created_by":"Henry Du","updated_at":"2026-01-26T08:31:58.535747576-03:00","closed_at":"2026-01-26T08:31:58.535747576-03:00","close_reason":"Closed"}
{"id":"Speedy-poh","title":"Task 5: Implement AppMode state machine - Implement AppMode enum (Reading/Paused/Quit/Repl), ReadingState struct with new(), current_token(), advance() methods, and App struct with start_reading() and toggle_pause() methods. Update tests to pass. Run cargo test app. Acceptance: All AppMode tests pass, state transitions work correctly.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:20.610071642-03:00","created_by":"Henry Du","updated_at":"2026-01-22T14:18:57.261346643-03:00","closed_at":"2026-01-22T14:18:57.261346643-03:00","close_reason":"Implemented AppMode state machine with 5 states (Reading/Paused/Repl/Peek/Quit), ReadingState with safe current_token() returning Option\u003c\u0026Token\u003e, App struct with mode and reading_state fields. Fixed division-by-zero panic in wpm_to_milliseconds() with max(1). All tests pass. COMMITTED: b84b4e8\n\nTechnical debt documented in commit message: Token.duration_ms hardcoded to 200ms should use weighted delays per PRD Section 3.2 (Epic 2+ future work). Weighted delay formula: base_duration * punctuation_multiplier * length_multiplier with . (3.0x), (1.5x), (4.0x) for newlines, plus word-length penalty (default 1.15x) for words \u003e10 chars."}
{"id":"Speedy-qc8","title":"Epic 2: Codebase Reorganization","description":"Epic 2: Codebase Reorganization \u0026 Architecture Refinement. Major refactoring to reorganize Speedy codebase after Epic 1 completion. Domain-based folder structure, split large files (\u003e500 lines), standardize module boundaries. Validated through consensus (8/10 confidence). See docs/plans/2026-01-29-epic-2-code-reorganization.md for full plan.","acceptance_criteria":"All files organized into domain-based folders; no source files \u003e500 lines; all 176 tests passing; ARCHITECTURE.md updated; public API stable","status":"closed","priority":2,"issue_type":"epic","owner":"henry.thdu@protonmail.com","estimated_minutes":1200,"created_at":"2026-01-29T11:29:00.656745296-03:00","created_by":"Henry Du","updated_at":"2026-01-29T12:09:48.251794708-03:00","closed_at":"2026-01-29T12:09:48.251794708-03:00","close_reason":"Closed","labels":["architecture","epic","epic-2","epic-2-code-reorganization","refactoring"]}
{"id":"Speedy-r5n","title":"Implement j/k key bindings","description":"Connect j/k keys to sentence navigation in src/app/app.rs per PRD Sections 3.3 and 7.2. Map 'j' to ReadingState::jump_to_next_sentence() and 'k' to jump_to_previous_sentence() ONLY in AppMode::Reading. Implement event handler that: 1) Checks current mode 2) Calls navigation methods 3) Updates render state 4) Handles edge cases (empty tokens, boundaries). Preserve sentence boundary rules: newlines=boundary, ignore abbreviations (Dr./Mr.), ignore decimals (3.14).\\n\\n**PRD Alignment:** Section 3.3 (sentence boundaries), Section 7.2 (j/k keybindings), Section 4.2 (gutter regeneration on navigation)\\n**Critical Integration Points:**\\n- Uses existing ReadingState methods from Speedy-58j/Speedy-f1q\\n- Maintains gutter synchronization per Section 4.2\\n- Preserves spatial awareness during jumps\\n\\n**TDD Approach:** Write failing tests first:\\n- test_j_key_jumps_to_next_sentence\\n- test_k_key_jumps_to_prev_sentence\\n- test_j_at_end_stays_in_place\\n- test_k_at_start_stays_at_0\\n\\n**Acceptance Criteria:**\\n- 'j' always lands at sentence start (never mid-sentence)\\n- 'k' correctly handles paragraph breaks (\\n boundaries)\\n- Ignores abbreviations per PRD Section 3.3\\n- Gutter regenerates immediately per Section 4.2\\n- All existing tokenization tests still pass\\n- Works with current ReadingState implementation","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-26T17:52:17.886394194-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:29:05.582320065-03:00","closed_at":"2026-01-26T18:29:05.582320065-03:00","close_reason":"Closed"}
{"id":"Speedy-rai","title":"Update src/app/app.rs (event handlers, navigation)","description":"Implement AppEvent::LoadFile and AppEvent::LoadClipboard handlers. Detect file extension. Call appropriate loader. Update App state with tokens on success. Transition to AppMode::Reading. Display errors on failure. Add jump_forward_by_time(), jump_backward_by_time(), find_sentence_start() functions. Reference: Step 7 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:34.409118989-03:00","created_by":"Henry Du","updated_at":"2026-01-26T17:50:02.437329265-03:00","closed_at":"2026-01-26T17:50:02.437329265-03:00","close_reason":"Closed"}
{"id":"Speedy-rgc","title":"Task 8: Write failing tests for REPL interface - Add tests to src/app.rs for parse_repl_input() with @filename, @@, :q commands. Run tests to verify they fail. Commit 'test: add failing REPL interface tests'. Acceptance: Tests fail with parse_repl_input undefined.","description":"Task 8: Write failing tests for REPL interface - Add tests to src/repl.rs for parse_repl_input() with @filename, @@, :q commands. Run tests to verify they fail. Commit 'test: add failing REPL interface tests'. Acceptance: Tests fail with parse_repl_input undefined. Note: Module split - repl.rs now contains ReplCommand and parse_repl_input.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:40:44.674351811-03:00","created_by":"Henry Du","updated_at":"2026-01-22T15:05:22.287089826-03:00","closed_at":"2026-01-22T15:05:22.287089826-03:00","close_reason":"Closed"}
{"id":"Speedy-rip","title":"[Tech Debt] Fix hardcoded duration_ms in tokenize_text()","description":"The tokenize_text() function in src/engine/timing.rs hardcodes duration_ms: 200 instead of using the wpm_to_milliseconds() function to calculate the actual duration based on the WPM parameter. This means all tokens display for exactly 200ms regardless of WPM setting. Fix: tokenize_text() should accept a wpm parameter and use wpm_to_milliseconds(wpm) to calculate duration_ms. Related to Task 3 (Speedy-7ek).","status":"closed","priority":3,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T14:32:43.097062096-03:00","created_by":"Henry Du","updated_at":"2026-01-26T10:20:56.619750727-03:00","closed_at":"2026-01-26T10:20:56.619750727-03:00","close_reason":"Closed"}
{"id":"Speedy-smh","title":"Epic 1: Bundled Font Loading System","description":"Embed JetBrains Mono Regular OTF (~300KB) via include_bytes! macro. Load into lazy_static FontRef on startup. Add font_path config override option. Include Apache 2.0 license in /licenses/ directory. Update README with font attribution.","acceptance_criteria":"Font loads successfully from binary; Font metrics available for OVP calculation; Config override works when font_path specified; License file included in repo; Unit tests for font loading","status":"open","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":90,"created_at":"2026-01-28T12:24:42.829747971-03:00","created_by":"Henry Du","updated_at":"2026-01-28T12:24:42.829747971-03:00","labels":["dep:ab_glyph","effort:1-2d","epic:epic-1-tui-foundation","priority:P0","type:technical"]}
{"id":"Speedy-spe","title":"Task 11: Implement WPM controls in event loop - Add adjust_wpm() to ReadingState with MIN_WPM (50)/MAX_WPM (1000). Handle [ and ] keys in main.rs event loop to adjust WPM. Update display to show WPM. Run cargo test app. Test manually (press [ to decrease, ] to increase). Commit 'feat: implement WPM controls in event loop'. Acceptance: WPM adjusts correctly, displays WPM, tests pass.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:41:19.288531643-03:00","created_by":"Henry Du","updated_at":"2026-01-22T17:56:30.473350294-03:00","closed_at":"2026-01-22T17:56:30.473350294-03:00","close_reason":"Closed"}
{"id":"Speedy-t01","title":"Fix Newline Tokenization","description":"Fix newline handling to preserve sentence boundaries. Replace split_whitespace() with line-by-line processing (text.lines()). Create newline tokens with 4.0x multiplier. This enables PRD Section 3.2 newline delays and Section 3.3 sentence-aware navigation (newlines are boundaries).","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:45.383854197-03:00","created_by":"Henry Du","updated_at":"2026-01-26T08:38:29.548153514-03:00","closed_at":"2026-01-26T08:38:29.548153514-03:00","close_reason":"Closed"}
{"id":"Speedy-t6g","title":"Add Tests for Weighted Delay Algorithm","description":"Add comprehensive tests for weighted delay algorithm (PRD Section 3.2). Test punctuation multipliers (. = 3.0x, , = 1.5x, ?/! = 3.0x, \\\\n = 4.0x). Test max stacking rule for multiple punctuation (word?! = 3.0x not 6.0x). Test word length penalty (\u003e10 chars = 1.15x). Test newline tokenization (\\\\n = 4.0x). All tests must pass.","status":"closed","priority":1,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-25T16:48:46.51046051-03:00","created_by":"Henry Du","updated_at":"2026-01-26T10:20:56.525267931-03:00","closed_at":"2026-01-26T10:20:56.525267931-03:00","close_reason":"Closed"}
{"id":"Speedy-tbo","title":"10. Implementation Steps","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.320329583-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-u0x","title":"Implement src/input/pdf.rs loader","description":"Implement PDF file loading using pdf-extract crate. Check file extension .pdf. Load file using pdf-extract::extract_text_from_file(). Tokenize with engine::tokenize_text(). Return Result\u003cLoadedDocument, LoadError\u003e. Handle PDF parse errors gracefully. Reference: Step 4 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:03.890575993-03:00","created_by":"Henry Du","updated_at":"2026-01-26T17:51:26.735341472-03:00","closed_at":"2026-01-26T17:51:26.735341472-03:00","close_reason":"Closed"}
{"id":"Speedy-uh6","title":"Epic 1: Pluggable RsvpRenderer Trait","description":"Define core renderer trait in src/engine/renderer.rs with methods: initialize, render_word, clear, supports_subpixel_ovp, cleanup. Add lifecycle methods now to avoid breaking changes later. Design for future Sixel/iTerm2 backends. Document trait evolution plan.","acceptance_criteria":"Trait compiles with all methods; Documentation explains each method's purpose; Example implementations compile (can be stubs); Unit tests for trait bounds and object safety","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":90,"created_at":"2026-01-28T12:24:41.078751634-03:00","created_by":"Henry Du","updated_at":"2026-01-28T14:18:56.298321166-03:00","closed_at":"2026-01-28T14:18:56.298321166-03:00","close_reason":"Completed: RsvpRenderer trait with RendererError enum, 5 lifecycle methods, comprehensive docs, 4 tests","labels":["effort:1-2d","epic:epic-1-tui-foundation","priority:P0","type:technical"]}
{"id":"Speedy-ui3","title":"7. Tokenization Update","description":"Add is_sentence_start: bool field to Token struct. Update tokenize_text() with 1-token lookbehind: iterate tokens, pass previous token to detect_sentence_boundary(), set is_sentence_start flag per token. First token ALWAYS gets is_sentence_start=true (PRD requirement). Tests: test_is_sentence_start_set_correctly, test_tokenize_single_sentence, test_tokenize_multiple_sentences, plus 8 detection tests for regression. Regression requirement: All 49 existing timing tests must pass. Acceptance: Field added to Token, flags set correctly for all boundary cases, first token always marked, no regression in timing tests, tokenization remains deterministic. Estimated: 1-2 hours. PRD: Section 3.3. Design: docs/plans/2026-01-26-sentence-aware-navigation-design.md. Epic: Sentence-Aware Navigation (MVP). Depends on: hmc completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.306276438-03:00","updated_at":"2026-01-26T17:16:35.258252043-03:00","closed_at":"2026-01-26T17:16:35.258254848-03:00"}
{"id":"Speedy-ve4","title":"5. Performance Considerations","description":"File loading has performance implications that need explicit handling in MVP.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.296394803-03:00","updated_at":"2026-01-26T17:50:02.34633573-03:00","closed_at":"2026-01-26T17:50:02.34633573-03:00","close_reason":"Closed"}
{"id":"Speedy-w2l","title":"Task 2A-2: Refactor app::App for Pure Core Architecture","description":"Add AppEvent enum (domain events, not crossterm::KeyEvent), add handle_event() method, add get_render_state() method returning RenderState struct (no ratatui types), export new types from src/app/mod.rs to establish pure core architecture - separates domain logic from UI rendering concerns","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T19:40:50.979187396-03:00","created_by":"Henry Du","updated_at":"2026-01-23T09:27:13.48721262-03:00","closed_at":"2026-01-23T09:27:13.48721262-03:00","close_reason":"Closed"}
{"id":"Speedy-wsb","title":"Epic 1: Terminal Capability Detection System","description":"Implement terminal graphics capability detection with graceful fallback to TUI mode. Detect Kitty Graphics Protocol support via $TERM and CSI DA1/DA2 queries with 500ms timeout. Add CLI flags --force-kitty and --force-tui for manual override. Display warning message in TUI fallback mode.","acceptance_criteria":"Detection works on Konsole, Kitty, Alacritty, GNOME Terminal; Timeout fallback triggers within 500ms for non-responsive terminals; Manual override flags work correctly; Warning message displays in TUI fallback mode; Unit tests for detection logic","status":"closed","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":120,"created_at":"2026-01-28T12:24:25.833921489-03:00","created_by":"Henry Du","updated_at":"2026-01-28T14:45:24.197695472-03:00","closed_at":"2026-01-28T14:45:24.197695472-03:00","close_reason":"Completed: Terminal capability detection with GraphicsCapability enum, CapabilityDetector, CLI flags --force-kitty/--force-tui, error handling for mutually exclusive flags, and TUI fallback warnings","labels":["effort:2-3d","epic:epic-1-tui-foundation","priority:P0","type:technical"]}
{"id":"Speedy-wt0","title":"Reorganize UI layer with feature folders","description":"Reorganize src/ui/ into feature folders: move src/terminal.rs into src/ui/terminal_guard.rs; create src/ui/reader/ subdirectory with component.rs and view.rs; clean up unused exports in ui/mod.rs. Organize UI code by feature areas.","acceptance_criteria":"src/terminal.rs moved to ui/; src/ui/reader/ subdirectory created; unused exports removed; all 176 tests pass; ARCHITECTURE.md updated","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":180,"created_at":"2026-01-29T11:28:25.616929869-03:00","created_by":"Henry Du","updated_at":"2026-01-29T12:24:05.239426539-03:00","closed_at":"2026-01-29T12:24:05.239426539-03:00","close_reason":"Closed","labels":["epic-2","epic-2-code-reorganization","refactoring","ui-reorganization"],"dependencies":[{"issue_id":"Speedy-wt0","depends_on_id":"Speedy-4b2","type":"blocks","created_at":"2026-01-29T11:28:25.621009969-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-x01","title":"Dependencies","description":"**New crates to add:**","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.327441371-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-x1r","title":"Implement EPUB file parsing support\n\nParse EPUB files using epub crate. Extract text content from EPUB documents when user types @filename.epub. Handle EPUB parsing errors with explicit messages. Integrate with existing tokenization workflow.\n\nAcceptance Criteria: EPUB files load and extract text, errors handled gracefully, content tokenizes correctly, integrates with REPL workflow.\n\nContext: Epic 2C - File Format Support","description":"Implement EPUB file loading using epub crate v2.1 in src/input/epub.rs. Validate file extension is .epub. Parse via epub::doc::EpubDoc::new(path). Extract all chapter/section text in order. Concatenate chapters with '\\n\\n' separators to preserve paragraph breaks. Tokenize using engine::tokenize_text() (preserves punctuation for sentence detection). Return Result\u003cLoadedDocument, LoadError\u003e with specific errors: EpubParse(String), FileNotFound, UnsupportedFormat. Handle EPUB-specific errors (e.g., invalid structure, DRM) with user-friendly messages. Write unit tests with mocked EPUB parsing and integration tests with actual EPUB files.\\n\\n**PRD Alignment:** Section 2.2 (EPUB support), Section 6.1 (input module structure), Section 3.3 (punctuation preservation for sentence detection)\\n**TDD Approach:** Write failing test first (e.g., test_epub_chapter_order), then implement minimal code\\n\\n**Acceptance Criteria:**\\n- Correctly loads @filename.epub from REPL\\n- Returns user-friendly error for non-EPUB files\\n- Preserves chapter order as defined in EPUB\\n- Inserts paragraph breaks between chapters\\n- Handles DRM/invalid EPUBs gracefully\\n- 100% test coverage for error cases\\n- Integration test passes with sample.epub (2-3 chapters)","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T09:48:23.976086316-03:00","created_by":"Henry Du","updated_at":"2026-01-26T18:19:57.656753158-03:00","closed_at":"2026-01-26T18:19:57.656753158-03:00","close_reason":"Closed"}
{"id":"Speedy-x5e","title":"Epic 1: Basic Kitty Graphics Protocol","description":"Implement KittyGraphicsRenderer with direct escape sequence implementation (no ratatui-image). Use ab_glyph for text rasterization and imageproc for RGBA buffer. Base64 encode for protocol transmission. Cleanup on exit: delete all graphics with APC Ga=d ST. Render current word only (no ghost words).","acceptance_criteria":"Implements all RsvpRenderer methods; Words render as graphics in Kitty/Konsole; Sub-pixel OVP positioning works; Cleanup on exit removes all graphics; No compilation warnings; Unit tests for protocol encoding","status":"open","priority":0,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":180,"created_at":"2026-01-28T12:24:58.765597416-03:00","created_by":"Henry Du","updated_at":"2026-01-28T12:24:58.765597416-03:00","labels":["effort:3-4d","epic:epic-1-tui-foundation","priority:P0","type:technical"],"dependencies":[{"issue_id":"Speedy-x5e","depends_on_id":"Speedy-uh6","type":"blocks","created_at":"2026-01-28T12:45:32.36505446-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-x5e","depends_on_id":"Speedy-smh","type":"blocks","created_at":"2026-01-28T12:45:32.414890379-03:00","created_by":"Henry Du"},{"issue_id":"Speedy-x5e","depends_on_id":"Speedy-7a1","type":"blocks","created_at":"2026-01-28T12:45:32.462657062-03:00","created_by":"Henry Du"}]}
{"id":"Speedy-x6t","title":"12. Future Enhancements (Out of Scope for 2A-4)","description":"- Tab completion for file suggestions","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-23T16:10:33.338709048-03:00","updated_at":"2026-01-23T16:12:14.491741437-03:00","deleted_at":"2026-01-23T16:12:14.491741437-03:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"Speedy-xhb","title":"Task 12: Add comprehensive error handling - Create src/engine/error.rs with SpeedyError enum (IoError/EmptyFile/InvalidEncoding). Add error tests for empty file. Implement load_file_safe() with graceful error handling in main.rs. Run cargo test. Commit 'feat: add comprehensive error handling'. Acceptance: Error types defined, empty file handled, no crashes on I/O errors.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:41:30.450228578-03:00","created_by":"Henry Du","updated_at":"2026-01-22T18:20:46.082527894-03:00","closed_at":"2026-01-22T18:20:46.082527894-03:00","close_reason":"Closed"}
{"id":"Speedy-y36","title":"Implement src/input/clipboard.rs loader","description":"Implement clipboard loading using arboard crate. Initialize arboard::Clipboard::new(). Get text with get_text(). Handle UnsupportedOs error gracefully. Tokenize with engine::tokenize_text(). Return Result\u003cLoadedDocument, LoadError\u003e. Reference: Step 6 of design document.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T16:15:22.889782302-03:00","created_by":"Henry Du","updated_at":"2026-01-26T17:51:26.698526724-03:00","closed_at":"2026-01-26T17:51:26.698526724-03:00","close_reason":"Closed"}
{"id":"Speedy-y8h","title":"Task 1: Initialize Rust project structure - Create Cargo.toml, src/main.rs, engine/mod.rs, ui/mod.rs, audio/mod.rs (stub), storage/mod.rs (stub). Verify project compiles with cargo check. Acceptance: All module stubs created, cargo check passes.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-22T12:39:27.865977287-03:00","created_by":"Henry Du","updated_at":"2026-01-22T13:50:12.666301613-03:00","closed_at":"2026-01-22T13:50:12.666301613-03:00","close_reason":"Created Cargo.toml with ratatui 0.30 and crossterm 0.29, created all module stubs (main.rs, app.rs, engine/mod.rs, ui/mod.rs, audio/mod.rs, storage/mod.rs, engine/timing.rs, ui/reader.rs), cargo check passes"}
{"id":"Speedy-ykp","title":"Split app.rs into focused modules","description":"Split src/app/app.rs (607 lines) into separate modules: state.rs (App struct, mode management), event.rs (AppEvent enum, event dispatch), and render_state.rs (RenderState, render coordination). Target: reduce app.rs to \u003c200 lines. Update imports and ensure all 176 tests pass.","acceptance_criteria":"src/app/app.rs \u003c200 lines; event.rs and render_state.rs created; all 176 tests pass; no API breakage","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","estimated_minutes":180,"created_at":"2026-01-29T11:27:45.876101848-03:00","created_by":"Henry Du","updated_at":"2026-01-29T11:39:58.752209701-03:00","closed_at":"2026-01-29T11:39:58.752209701-03:00","close_reason":"Closed","labels":["app-module","epic-2","epic-2-code-reorganization","refactoring"]}
{"id":"Speedy-yy1","title":"Implement clipboard (@@) support\n\nAdd clipboard input functionality to REPL. When user types @@, read from system clipboard and tokenize the content. Handle platform-specific clipboard access (macOS/Linux/Windows). Display appropriate error messages on clipboard access failures.\n\nAcceptance Criteria: @@ command loads clipboard content, platform-specific handling works, errors handled gracefully, content tokenizes correctly.\n\nContext: Epic 2B or 2C - File Format Support","description":"Superseded by new design approach (docs/designs/2a3-repl-mode-design.md). See new 2A-3 bead(s) for revised REPL implementation using rustyline with manual command parsing.","status":"closed","priority":2,"issue_type":"task","owner":"henry.thdu@protonmail.com","created_at":"2026-01-23T09:45:24.21508157-03:00","created_by":"Henry Du","updated_at":"2026-01-23T12:59:34.836176143-03:00","closed_at":"2026-01-23T12:59:34.836183837-03:00"}
